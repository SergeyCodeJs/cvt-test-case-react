 # ЦВТ. Тестовое задание. 


[Ссылка на деплой](https://cvt-test-case-react.netlify.app/).

[Ссылка на репозиторий Github](https://github.com/SergeyCodeJs/cvt-test-case-react/).


## Установка: 
1. Сборка уже собрана, находится в папке ```'/build'```. 
1. Исходники находятся в папке ```'./src```.
1. Для сборки скачайте файлы из репозитория, и установите зависимости: ```npm install. ```
1. Для запуска проекта используйте скрипт ```npm run start.```

Технологии: 
```HTML5```, ```CSS3```, ```JavaScript ES6```, ```React```, ```React Router```, ```React hooks```.
Для сборки используется ```Create React App```.
В качестве препроцессора ```CSS``` используется препроцессор ```SASS```. Также применяются ```CSS``` модули, поддержка которых была добавлена в ```Create React APP``` "из коробки".

## Что сделано: 
1. Переключение между табами (фильмы и телеканалы). Реализовано с помощью React Router, что позволяет сохранять открытую вкладку после перезагрузки страницы. Для ссылок использовался ```React Router NavLink```, что позволяет легко менять активный класс ссылки;
1. Скроллбар. Реализован кастомный скроллбар, как в макете. 
1. Возможность входа. В техническом задании не было оговорено, каким именно образом должен быть реализован первый вход, однако в Figma есть экран логина, я его сверстал и использовал для первого входа в систему. Обратите внимание, чтобы войти в первый раз, необходимо нажать на кнопку "Войти", которая находится в хедере. Далее, когда откроется форма логина, введите логин (пароль не играет роли). Если вы не поставите галочку в чекбоксе "Запомнить", данные о логине не попадут в ```Local Storage```, а если поставите, попадут. Также реализована минимальная валидация логина, чтобы нельзя было ввести пустую строку или строку длиной более 13 символов.
1. Возможность изменения имени пользователя. При клике на имени пользователя вместо текущего значения появляется поле ввода. В него подставляется текущее значение. После снятия фокуса с поля ввода значение сохраняется. Имя пользователя сохраняется в ```Local Storage``` и загружается из хранилища при перезагрузке страницы.

## Какие дополнительные требования из технического задания реализованы:
1. Выполненное задание соответствует макету, ```Pixel Perfect```. Обратите внимание, что в макете расположение элементов в хедере для страниц фильмов и телеканалов немного отличается (например расположение нижней границы окна поиска). Я решил, что это нюанс дизайта, поэтому у меня расположение элементов в хедере при переключении вкладок совпадает. Также на авторизованной странице компонент жанров в дизайне расположен левее основного ```layout```, думаю это тоже недочет дизайна, который нужно проигнорировать при верстке.  
1. Адаптивная верстка, сайт одинаково хорошо работает на десктопах, планшетах и мобильных устройствах.
1. Предоставленный макет сверстан кроссбраузерно. Выполнены требования по браузерам: ```Internet Explorer 11```, ```edge``` и ```Chrome```, ```Opera```, ```Yandex Browser```, ```Firefox```  последних версий. 
1. Использован сборщик ```Create React App```, официально поддерживаемый сборчик для создания одностроничных приложений на ```React```. Для данного проекта его возможностей на мой взгляд достаточно. 
1. В качестве библиотек используются ```React```, ```React Router```, ```Prop Types```. 
1. Используются семантические элементы (```header, footer, main```).
1. ```HTML/CSS/JS``` код разделен на модули и по возможности оптимален;
1. Валидность проверена с помощью [https://validator.w3.org/](https://validator.w3.org/), Document checking completed. No errors or warnings to show.

## Нюансы реализации

1. Применяется компонентный подход, код разделен на модули, которые содержатся в папке ```/components```.
1. Для хранения и получения данных используется сервис, методы которого возвращают данные асинхронно (```Promise```). Этот сервис передается нужным компонентам с помощью ```HOC```, в которые эти компоненты обернуты, данные загружаются при загрузке соответствующих компонентов. Если происходит ошибка, появляется специальная страница, которая показывает, что что-то пошло не так. Если данные загружаются, пользователь видит загрузку (можно было имитировать загрузку, например с помощью ```SetTimeout```, который ресолвит ```Promise```, и добавляет задержку, но я решил этого не делать, чтобы данные грузились как можно быстрее).  
1. Для хранения состояния использованы хуки, компоненты классы не использовал, так как их использование понижает производительность. Была мысль использовать ```Redux```, но поскольку приложение не объемное, и функционал минимален, было принято решение отказаться от этой идеи. Состояние поднято в верхний компонент ```App``` и передается вложенным компонентам (напомню, что данные о фильмах и телеканалах передаются компонентам с помощью ```HOC```, в который они обернуты). 
1. Для переключения табов используется ```React Router```, реализован компонент страницы 404, если вы случайно перейдете на несуществующую страницу. Такой подход позволяет легко добавить класс активной ссылке и избежать переключения вкладок при перезагрузке страницы.  
1. Все компоненты обернуты в ```Error Boundary```, который следит за ошибками. Если в приложении будет ошибка, будет показан специальный компонент, который укажет, что что-то пошло не так. 
1. Все ```Props``` проверяются с помощью ```Prop Types```, чтобы избежать передачи компонентам неверных типов данных. 
1. Все ```UI``` (например ```Input, Button```) компоненты находятся в отдельном месте и переиспользуются. Инпуты контролируемые. 
1. Адаптивность реализована с помощью ```@media queries``` и ```responsive web design```. 



